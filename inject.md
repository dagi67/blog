#### Метод Inject

**inject** -- весьма приятный метод для массивов и коллекций, позволяющий выполнить однотипную операцию над рядом значений. Этот метод помогает существенно сократить код.

##### Для чего нужен?

Обычно **inject** используется, когда надо просуммировать некоторое колличество элементов массива. Например, подсчитать общую стоимость нескольких товаров.

Например, имеем массив **a**:

```ruby
 a = [1, 3, 5]
```

Задача: <b>Необходимо просуммировать все элементы массива</b>. Это можно реализовать следующим образом:

```ruby
a.inject{|res, item| res + item } # => 9
```

Здесь inject пробегает по всем элементам массива и для каждого элемента выполняет слудующий блок кода:

```ruby
{|res, item| res + item }
```

Здесь на каждом шаге в блок передается 2 аргумента:

**res** - значение суммы для текущего шага

**item** - текущий элемент массива

```ruby
{|res, item| ... }
```

На каждом шаге выполняется суммирование текущей суммы и текущего элемента массива:

```ruby
{ ... res + item }
```

Результат этого вычисления в следующем шаге будет храниться в переменной **res**

##### Начальное значение

Метод **inject** может принимать в себя агрумент, который задаст начальное значение **res**. Например:

```ruby
a.inject(1){|res, item| res + item } # => 10
```

Соответственно:

```ruby
a.inject(11){|res, item| res + item } # => 20
```

Надеюсь пример не требует других пояснений. По умолчанию начальное знечение равно 0.

##### Операция по умолчанию

По умолчанию inject выполняет суммирование элементов массива. Однако можно изменить это поведение, передав в качестве аргумента **символ-операцию**

Например:

```ruby
:+ # сложение
:- # вычитание
:/ # деление
:* # умножение
```

Так, например:

```ruby
a.inject(:/) # => 0
```

равносильно:

```ruby
0/1/3/5
```

Или

```ruby
a.inject(100, :/) # => 6
```

равносильно:

```ruby
100/1/3/5 # => 6
```

Обратите внимание, что в примере выше используется целочисленное деление.

Если вы хотите узнать действительное число в результате деления, то следует использовать следующий пример:

```ruby
a.inject(100){|res, item| res /= item.to_f }
```

равносильно:

```ruby
100/1.0/3.0/5.0
```

Если есть необходимость перемножить все элементы массива, то следует поступить так:

```
a.inject(1, :*) # => 15
```

что равносильно:

```ruby
1*1*3*5 # => 15
```